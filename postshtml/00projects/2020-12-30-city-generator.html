<!DOCTYPE html>

<html>
<head>
<link href="/assets/css/articlecontent.css" rel="stylesheet" type="text/css"/>
<link href="/assets/css/scrollbar.css" rel="stylesheet" type="text/css"/>
<link href="/assets/css/selection.css" rel="stylesheet" type="text/css"/>
<link href="/assets/css/backtotop.css" rel="stylesheet" type="text/css"/>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport"/>
<title>Parametric City Generator</title>
<meta content="Welcome to My Personal Site!" name="description"/>
<meta content="Zihan Zephaniah MEI" name="author"/>
<!-- fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:200,400,600&amp;display=swap" rel="stylesheet"/>
<script>
        (function (d) {
            var config = {
                kitId: 'cmi7aqt',
                scriptTimeout: 3000,
                async: true
            },
                h = d.documentElement, t = setTimeout(function () { h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive"; }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a; h.className += " wf-loading"; tk.src = 'https://use.typekit.net/' + config.kitId + '.js'; tk.async = true; tk.onload = tk.onreadystatechange = function () { a = this.readyState; if (f || a && a != "complete" && a != "loaded") return; f = true; clearTimeout(t); try { Typekit.load(config) } catch (e) { } }; s.parentNode.insertBefore(tk, s)
        })(document);
    </script>
<!-- end fonts -->
<!-- start favicons snippet, use https://realfavicongenerator.net/ -->
<link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/favicon/site.webmanifest" rel="manifest"/>
<link color="#2c3e50" href="/favicon/safari-pinned-tab.svg" rel="mask-icon"/>
<link href="/favicon/favicon.ico" rel="shortcut icon"/>
<meta content="ZMei.moe" name="apple-mobile-web-app-title"/>
<meta content="ZMei.moe" name="application-name"/>
<meta content="#fee3e1" name="msapplication-TileColor"/>
<meta content="/favicon/browserconfig.xml" name="msapplication-config"/>
<meta content="#ffffff" name="theme-color"/>
<!-- end favicons snippet -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-156998560-1"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-156998560-1');
    </script>
<!-- anime-master -->
<script src="/assets/js/anime-master/lib/anime.min.js"></script>
<!-- jQuery -->
<script crossorigin="anonymous" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<!-- fontawesome -->
<!-- <script src="https://kit.fontawesome.com/d61407055c.js" crossorigin="anonymous"></script> -->
<script type="text/javascript">
        $(document).ready(function () {
            $("#header").load("/components/header.html");
            $("#footer").load("/components/footer.html");
        });
    </script>
<link href="/assets/js/highlight/atom-one-light-edit.css" rel="stylesheet"/>
<script src="/assets/js/highlight/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header"></div>
<!-- back to top icon -->
<a id="backtotop">
<svg id="layer2" viewbox="0 0 16.85 35.95" xmlns="http://www.w3.org/2000/svg">
<defs>
<style>
                    .cls-1 {
                        fill: none;
                        stroke-miterlimit: 10;
                    }
                </style>
</defs>
<title>backtotop</title>
<polyline class="cls-1" points="0.43 13.95 8.43 0.95 16.43 13.95"></polyline>
<line class="cls-1" x1="8.43" x2="8.43" y1="25.95" y2="0.95"></line>
<line class="cls-1" x1="0.43" x2="16.43" y1="0.95" y2="0.95"></line>
</svg>
</a>
<!-- end back to top icon -->
<div id="offsetheader">
<img src="/assets/img/00architecture/07citygenerator-6338/01cover.jpg"/>
</div>
<!-- <a class="tocicon" onclick="toc()">
        <i class="fa fa-bars"></i>
    </a> -->
<div id="toc"><div class="toc">
<ul>
<li><a href="#latest-update">Latest update</a></li>
<li><a href="#basic-info">Basic Info</a></li>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#organic-or-rigid">Organic or Rigid?</a></li>
<li><a href="#traditional-zoning-trio">Traditional Zoning Trio</a></li>
<li><a href="#roadmap">Roadmap</a></li>
</ul>
</li>
<li><a href="#part-a-network-generation">Part A: Network Generation</a><ul>
<li><a href="#methodology">Methodology</a></li>
<li><a href="#demo">Demo</a></li>
</ul>
</li>
<li><a href="#part-b-street-block-generation">Part B: Street &amp; Block Generation</a></li>
<li><a href="#part-c-density-remapping">Part C: Density Remapping</a><ul>
<li><a href="#demo_1">Demo</a></li>
</ul>
</li>
<li><a href="#part-d-city-form-buildings-generation">Part D: City Form &amp; Buildings Generation</a><ul>
<li><a href="#far">FAR</a></li>
<li><a href="#bsr">BSR</a></li>
<li><a href="#p-s-ratio">P-S Ratio</a></li>
<li><a href="#demo_2">Demo</a></li>
</ul>
</li>
<li><a href="#demos-screenshots">Demos &amp; Screenshots</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="post"><h1 style="color: #fd746c;">Parametric City Generator</h1><blockquote>
<p>Modify date: 2021-07-13</p>
</blockquote>
<p><img alt="01cover" src="../../assets/img/00architecture/07citygenerator-6338/01cover.jpg"/></p>
<h1 class="anchor" id="latest-update">Latest update</h1>
<p>The related paper <em>Cross-Scale and Density-Driven City Generator: Parametric assistance to designers in prototyping stage</em> is published on <a href="http://www.ecaade2021.ftn.uns.ac.rs/">eCAADe 2021</a>.</p>
<p>View the source codes including <code>.gh</code> files and <code>.cs</code> files on <a href="https://github.com/saturn-drm/city-generator">Github</a>.</p>
<p>The codes are packed into Grasshopper plugin components and published as <a href="https://www.food4rhino.com/en/app/city-generator">food4Rhino | CITY GENERATOR (by Zihan MEI)</a>.</p>
<hr/>
<h1 class="anchor" id="basic-info">Basic Info</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Subtitle</td>
<td>Computational Urban Design Tool Kit</td>
</tr>
<tr>
<td>Category</td>
<td>Professional Work from GSD SCI-6338 Introduction to Computational Design</td>
</tr>
<tr>
<td>Location</td>
<td>GSD, Cambridge</td>
</tr>
<tr>
<td>Date</td>
<td>Nov - Dec, 2020</td>
</tr>
<tr>
<td>Tutor</td>
<td>Jose Luis Garcia del Castillo Lopez</td>
</tr>
<tr>
<td>Collaborator</td>
<td>Pam Pan, Jack Cheng</td>
</tr>
</tbody>
</table>
<p>The project is written in C# in Grasshopper. It's aimed for:</p>
<ul>
<li>Urban designers, to do fast and simple tests with urban structure prototypes</li>
<li>The public, to explore on the key points that influence the layout and shape of cities</li>
</ul>
<p>The tool takes in the urban boundary and primary roads and generates the network of roads in 3 classes as well as buildings in various density. It simulates the density variation by scaling blocks and controlling building type and height according to the location block by block.</p>
<p style="text-align:center;">View the project on <a href="https://gsd6338.org/fall2020/projects/city-generator/index.html">course website</a></p>
<p style="text-align:center;">View the sources on <a href="https://github.com/saturn-drm/city-generator">GitHub</a></p>
<p><img alt="02basicinfo" src="../../assets/img/00architecture/07citygenerator-6338/02basicinfo.jpg"/></p>
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="500" src="https://www.youtube.com/embed/svBy35v-1dQ" width="900"></iframe>
<hr/>
<h1 class="anchor" id="introduction">Introduction</h1>
<h2 class="anchor" id="organic-or-rigid">Organic or Rigid?</h2>
<p><img alt="03bg1" src="../../assets/img/00architecture/07citygenerator-6338/03bg1.jpg"/></p>
<p>Cities around the world have urban forms mainly in 2 tendencies - organic forms like London, and rigid forms like Manhattan. The urban forms determine cities’ overall structure.</p>
<p>In this program, the users can input several primary roads either organic or rigid, and change parameters for secondary and minor roads later, to test the possible outcomes of different urban forms.</p>
<h2 class="anchor" id="traditional-zoning-trio">Traditional Zoning Trio</h2>
<p><img alt="03bg2" src="../../assets/img/00architecture/07citygenerator-6338/03bg2.jpg"/></p>
<p>Under each form, cities apply a set of planning rules determining the zoning patterns of themselves. Reviewing the zoning ordinance across the US, the 3 key aspects of traditional zoning are use, shape and density.</p>
<p>This program tries to create the block and building patterns based on the traditional zoning trio. It uses each block’s distance to roads in different classes to define the use and density, which in turn affects the shape of buildings. By playing with parameters, the users are allowed to change the rules by which distance influences the three aspects.</p>
<h2 class="anchor" id="roadmap">Roadmap</h2>
<p><img alt="04roadmap" src="../../assets/img/00architecture/07citygenerator-6338/04roadmap.jpg"/></p>
<hr/>
<h1 class="anchor" id="part-a-network-generation">Part A: Network Generation</h1>
<h2 class="anchor" id="methodology">Methodology</h2>
<p>Loop over all the blocks and divide those whose area exceeds critical values, until all the blocks cannot be subdivided further.</p>
<p>Generally, being closer to roads of higher class means the block area is smaller, and the road density is higher.</p>
<p><img alt="05partAworkflow" src="../../assets/img/00architecture/07citygenerator-6338/05partAworkflow.jpg"/></p>
<h2 class="anchor" id="demo">Demo</h2>
<ul>
<li>Subdivision Control Group 1: Critical Value 1 (Crt1)</li>
</ul>
<p>Larger <strong>Crt1</strong> means blocks are larger after division by <strong>secondary roads</strong>.</p>
<p><img alt="partActr1" src="../../assets/img/00architecture/07citygenerator-6338/partActr1.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Critical Value 2 (Crt2)</li>
</ul>
<p>Larger <strong>Crt2</strong> means blocks are larger after division by <strong>minor roads</strong>.</p>
<p><img alt="partActr2" src="../../assets/img/00architecture/07citygenerator-6338/partActr2.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Distance 2 (Dist2)</li>
</ul>
<p>Larger <strong>Dist2</strong> means even blocks far from <strong>secondary roads</strong> are divided further, while smaller <strong>Dist2</strong> means only blocks near <strong>secondary roads</strong> are subdivided further.</p>
<p><img alt="partAdist2" src="../../assets/img/00architecture/07citygenerator-6338/partAdist2.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Amplitude 2 (AmpC2)</li>
</ul>
<p>Larger <strong>AmpC2</strong> means blocks near <strong>secondary roads</strong> are much smaller than those farther, while smaller <strong>AmpC2</strong> means blocks nearer are similarly large as those farther.</p>
<p><img alt="partAampc2" src="../../assets/img/00architecture/07citygenerator-6338/partAampc2.gif"/></p>
<ul>
<li>Random Control Group: Division End Interval (RndPara)</li>
</ul>
<p>Smaller <strong>RndPara</strong> generates more <strong>rigid</strong> overall structure, while larger <strong>RndPara</strong> generates more <strong>organic</strong> overall structure.</p>
<p><img alt="partArndpara" src="../../assets/img/00architecture/07citygenerator-6338/partArndpara.gif"/></p>
<hr/>
<h1 class="anchor" id="part-b-street-block-generation">Part B: Street &amp; Block Generation</h1>
<p>After the generation of primary/secondary/minor roads, the second step is to offset roads of each class differently, and generate the block setback with pedestrians.</p>
<p><img alt="06partBoffset" src="../../assets/img/00architecture/07citygenerator-6338/06partBoffset.jpg"/></p>
<p><strong>Input:</strong> Primary/Secondary/Minor Roads</p>
<p><strong>Parameters:</strong> Width for Primary/Secondary/Minor Roads, Width for Pedestrians</p>
<p><strong>Output:</strong> Pedestrian Outlines, Building Setback in Blocks</p>
<hr/>
<h1 class="anchor" id="part-c-density-remapping">Part C: Density Remapping</h1>
<p>Based on the overall structure and general urban forms from Part A, this part prepares for building form generation.</p>
<p>For each block, it classifies the distance to different roads into multiple ranges, and add up the weighted distance to represent the relative density among the blocks. Then it remaps the density to a certain interval of FAR which makes sense for building form generation.</p>
<h2 class="anchor" id="demo_1">Demo</h2>
<ul>
<li>Starting Interval for Primary Roads</li>
</ul>
<p>Larger starting interval means <strong>primary roads</strong> raise the density of blocks even far away.</p>
<p><img alt="partCintervalA" src="../../assets/img/00architecture/07citygenerator-6338/partCintervalA.gif"/></p>
<ul>
<li>Starting Interval for Secondary Roads</li>
</ul>
<p>Larger starting interval menas <strong>secondary roads</strong> raise the density of blocks even far away.</p>
<p><img alt="partCintervalB" src="../../assets/img/00architecture/07citygenerator-6338/partCintervalB.gif"/></p>
<ul>
<li>Weight for Primary Roads</li>
</ul>
<p>Larger weight means <strong>primary roads</strong> raise the density dominantly.</p>
<p><img alt="partCweightA" src="../../assets/img/00architecture/07citygenerator-6338/partCweightA.gif"/></p>
<hr/>
<h1 class="anchor" id="part-d-city-form-buildings-generation">Part D: City Form &amp; Buildings Generation</h1>
<h2 class="anchor" id="far">FAR</h2>
<ul>
<li>Floor area ratio</li>
<li>Generated by Part C</li>
<li>Determine the density in 3D in reality</li>
<li>Determine the land use and building shape</li>
<li>0.5 - 2.0: Low-density residential blocks</li>
<li>2.0 - 5.0: Local retail &amp; services blocks</li>
<li>5.0 - 20.0: Commercial blocks</li>
</ul>
<h2 class="anchor" id="bsr">BSR</h2>
<ul>
<li>Building space ratio</li>
<li>Changed by the users</li>
<li>Determine the density of plan in reality</li>
<li>Determine basement area and building height given a certain FAR</li>
</ul>
<h2 class="anchor" id="p-s-ratio">P-S Ratio</h2>
<ul>
<li>Ratio of area of additional towers on the borders closer to primary or secondary roads</li>
<li>Determine which side of commercial blocks has higher towers</li>
</ul>
<h2 class="anchor" id="demo_2">Demo</h2>
<ul>
<li>Change BSR for the 3 building forms</li>
</ul>
<p><img alt="07partDFARBSR" src="../../assets/img/00architecture/07citygenerator-6338/07partDFARBSR.jpg"/></p>
<ul>
<li>Change P-S ratio</li>
</ul>
<p><img alt="07partDPS" src="../../assets/img/00architecture/07citygenerator-6338/07partDPS.jpg"/></p>
<hr/>
<h1 class="anchor" id="demos-screenshots">Demos &amp; Screenshots</h1>
<ul>
<li>Demos</li>
</ul>
<p><img alt="08demofinal" src="../../assets/img/00architecture/07citygenerator-6338/08demofinal.jpg"/></p>
<ul>
<li>Script</li>
</ul>
<p><img alt="09cell" src="../../assets/img/00architecture/07citygenerator-6338/09cell.jpg"/></p>
<p>Click <a href="../../assets/img/00architecture/07citygenerator-6338/cell.png" target="_blank">here</a> to view larger screenshot.</p>
<hr/></div>
</div>
<div id="footer"></div>
<!-- back to top -->
<script class="backtotop">
        var btn = $('#backtotop');

        $(window).scroll(function () {
            if ($(window).scrollTop() > 300) {
                btn.addClass('show');
            } else {
                btn.removeClass('show');
            }
        });

        btn.on('click', function (e) {
            e.preventDefault();
            $('html, body').animate({ scrollTop: 0 }, '300');
        });
    </script>
<!-- end back to top -->
<!-- scroll smoothly -->
<script>
        $(document).ready(function () {
            $("a").on('click', function (event) {

                if (this.hash !== "") {
                    event.preventDefault();

                    var hash = this.hash;

                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function () {

                        window.location.hash = hash;
                    });
                }
            });
        });
    </script>
<!-- end scroll smoothly -->
<script class="showtocwhensdrolldown">
        $(window).scroll(function () {
            if ($(window).scrollTop() > 300) {
                $('#toc').addClass('fix');
            } else {
                $('#toc').removeClass('fix');
            }
        });
    </script>
<!-- <script class="hidetoc">
        jQuery(document).ready(function ($) {
            var alterClass = function () {
                var ww = $(window).width();
                if (ww > 1400) {
                    $('#toc').removeClass('res');
                    $('#toc').addClass('fix');
                } else if (ww <= 1401) {
                    $('#toc').addClass('res');
                    $('#toc').removeClass('fix');
                };
            };
            $(window).resize(function () {
                alterClass();
            });
            //Fire it when the page first loads:
            alterClass();
        });
    </script> -->
</body>
</html>