<!DOCTYPE html>
<html lang="en">

<head>
    
    
    <link rel="stylesheet" type="text/css" href="/assets/css/header-index2.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css" />

    <link rel="stylesheet" type="text/css" href="/assets/css/articlecontent-dev.css" />
    <link rel="stylesheet" href="/assets/js/highlight/atom-one-light-edit.css">

    <title>
    Parametric City Generator
</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="description" content="Welcome to My Personal Site!">
<meta name="author" content="Zihan Zephaniah MEI">
    <!-- fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:200,400,600&display=swap" rel="stylesheet">
<script>
    (function (d) {
        var config = {
            kitId: 'cmi7aqt',
            scriptTimeout: 3000,
            async: true
        },
            h = d.documentElement, t = setTimeout(function () { h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive"; }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a; h.className += " wf-loading"; tk.src = 'https://use.typekit.net/' + config.kitId + '.js'; tk.async = true; tk.onload = tk.onreadystatechange = function () { a = this.readyState; if (f || a && a != "complete" && a != "loaded") return; f = true; clearTimeout(t); try { Typekit.load(config) } catch (e) { } }; s.parentNode.insertBefore(tk, s)
    })(document);
</script>
<!-- end fonts -->
    <!-- start favicons snippet, use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/site.webmanifest">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#2c3e50">
<link rel="shortcut icon" href="/favicon/favicon.ico">
<meta name="apple-mobile-web-app-title" content="ZMei.moe">
<meta name="application-name" content="ZMei.moe">
<meta name="msapplication-TileColor" content="#fee3e1">
<meta name="msapplication-config" content="/favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156998560-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-156998560-1');
</script>
    <!-- jQuery -->
    <script src="/assets/js/jquery-3.6.0.min.js"></script>
    
    
    <!-- anime-master -->
    <script src="/assets/js/anime-master/lib/anime.min.js"></script>

    <!-- fontawesome -->
    <script src="https://kit.fontawesome.com/d61407055c.js" crossorigin="anonymous"></script>

    <script type="text/javascript" src="/assets/js/headerres.js"></script>
    <script type="text/javascript" src="/assets/js/headerhighlightdect.js"></script>
    <script type="text/javascript" src="/assets/js/smoothscroll.js"></script>

    <script type="text/javascript" src="/assets/js/toconscroll.js"></script>
    <script type="text/javascript" src="/assets/js/headerhidescroll.js"></script>
    <script type="text/javascript" src="/assets/js/progressbar.js"></script>
    <script src="/assets/js/highlight/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>

<body>
    
    <div class="topnav navori" id="navbar">
    <a class="homenav" href="/index.html" onclick="closenav()"><img src="/assets/img/logo.svg" />
        <p>Zihan MEI</p>
    </a>
    <div class="othernav">
        <a class="resdown" id="architecturenav" href="/design.html" onclick="closenav()">Design</a>
        <a class="resdown" id="codingnav" href="/blog.html" onclick="closenav()">Blog</a>
        <a class="resdown" id="literaturenav" href="/tabs.html" onclick="closenav()">Tabs</a>
    </div>
    <a class="dropicon" onclick="narrownav()">
        <i class="fa fa-bars"></i>
    </a>
</div>
    <a id="backtotop" onclick="driveTo(0)">
    <svg id="layer2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.85 35.95">
        <defs>
            <style>
                .cls-1 {
                    fill: none;
                    stroke-miterlimit: 10;
                }
            </style>
        </defs>
        <title>backtotop</title>
        <polyline class="cls-1" points="0.43 13.95 8.43 0.95 16.43 13.95" />
        <line class="cls-1" x1="8.43" y1="25.95" x2="8.43" y2="0.95" />
        <line class="cls-1" x1="0.43" y1="0.95" x2="16.43" y2="0.95" />
    </svg>
</a>

<script class="backtotop">
    var btn = $('#backtotop');

    $(window).scroll(function () {
        if ($(window).scrollTop() > 300) {
            btn.addClass('show');
        } else {
            btn.removeClass('show');
        }
    });

    btn.on('click', function (e) {
        e.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, '300');
    });
</script>
    
    <progress id="content-progress" value="0"></progress>
    <div id="offsetheader">
        <img src="/assets/img/00architecture/07citygenerator-6338/01cover.jpg"/>
    </div>
    <div id="toc"><div class="toc">
<ul>
<li><a href="#latest-update">Latest update</a></li>
<li><a href="#basic-info">Basic Info</a></li>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#organic-or-rigid">Organic or Rigid?</a></li>
<li><a href="#traditional-zoning-trio">Traditional Zoning Trio</a></li>
<li><a href="#roadmap">Roadmap</a></li>
</ul>
</li>
<li><a href="#part-a-network-generation">Part A: Network Generation</a><ul>
<li><a href="#methodology">Methodology</a></li>
<li><a href="#demo">Demo</a></li>
</ul>
</li>
<li><a href="#part-b-street-block-generation">Part B: Street &amp; Block Generation</a></li>
<li><a href="#part-c-density-remapping">Part C: Density Remapping</a><ul>
<li><a href="#demo_1">Demo</a></li>
</ul>
</li>
<li><a href="#part-d-city-form-buildings-generation">Part D: City Form &amp; Buildings Generation</a><ul>
<li><a href="#far">FAR</a></li>
<li><a href="#bsr">BSR</a></li>
<li><a href="#p-s-ratio">P-S Ratio</a></li>
<li><a href="#demo_2">Demo</a></li>
</ul>
</li>
<li><a href="#demos-screenshots">Demos &amp; Screenshots</a></li>
</ul>
</div>
</div>
    <div id="content">
        <div id="post">
            <h1 style="color:#fd746c;">Parametric City Generator</h1>
            <blockquote>
<p>Modify date: 2021-07-13</p>
</blockquote>
<p><img alt="01cover" src="/assets/img/00architecture/07citygenerator-6338/01cover.jpg"/></p>
<h1 class="anchor" id="latest-update">Latest update</h1>
<p>The related paper <em>Cross-Scale and Density-Driven City Generator: Parametric assistance to designers in prototyping stage</em> is published on <a href="http://www.ecaade2021.ftn.uns.ac.rs/">eCAADe 2021</a>.</p>
<p>View the source codes including <code>.gh</code> files and <code>.cs</code> files on <a href="https://github.com/saturn-drm/city-generator">Github</a>.</p>
<p>The codes are packed into Grasshopper plugin components and published as <a href="https://www.food4rhino.com/en/app/city-generator">food4Rhino | CITY GENERATOR (by Zihan MEI)</a>.</p>
<hr/>
<h1 class="anchor" id="basic-info">Basic Info</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Subtitle</td>
<td>Computational Urban Design Tool Kit</td>
</tr>
<tr>
<td>Category</td>
<td>Professional Work from GSD SCI-6338 Introduction to Computational Design</td>
</tr>
<tr>
<td>Location</td>
<td>GSD, Cambridge</td>
</tr>
<tr>
<td>Date</td>
<td>Nov - Dec, 2020</td>
</tr>
<tr>
<td>Tutor</td>
<td>Jose Luis Garcia del Castillo Lopez</td>
</tr>
<tr>
<td>Collaborator</td>
<td>Pam Pan, Jack Cheng</td>
</tr>
</tbody>
</table>
<p>The project is written in C# in Grasshopper. It's aimed for:</p>
<ul>
<li>Urban designers, to do fast and simple tests with urban structure prototypes</li>
<li>The public, to explore on the key points that influence the layout and shape of cities</li>
</ul>
<p>The tool takes in the urban boundary and primary roads and generates the network of roads in 3 classes as well as buildings in various density. It simulates the density variation by scaling blocks and controlling building type and height according to the location block by block.</p>
<p style="text-align:center;">View the project on <a href="https://gsd6338.org/fall2020/projects/city-generator/index.html">course website</a></p>
<p style="text-align:center;">View the sources on <a href="https://github.com/saturn-drm/city-generator">GitHub</a></p>
<p><img alt="02basicinfo" src="/assets/img/00architecture/07citygenerator-6338/02basicinfo.jpg"/></p>
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="500" src="https://www.youtube.com/embed/svBy35v-1dQ" width="900"></iframe>
<hr/>
<h1 class="anchor" id="introduction">Introduction</h1>
<h2 class="anchor" id="organic-or-rigid">Organic or Rigid?</h2>
<p><img alt="03bg1" src="/assets/img/00architecture/07citygenerator-6338/03bg1.jpg"/></p>
<p>Cities around the world have urban forms mainly in 2 tendencies - organic forms like London, and rigid forms like Manhattan. The urban forms determine cities’ overall structure.</p>
<p>In this program, the users can input several primary roads either organic or rigid, and change parameters for secondary and minor roads later, to test the possible outcomes of different urban forms.</p>
<h2 class="anchor" id="traditional-zoning-trio">Traditional Zoning Trio</h2>
<p><img alt="03bg2" src="/assets/img/00architecture/07citygenerator-6338/03bg2.jpg"/></p>
<p>Under each form, cities apply a set of planning rules determining the zoning patterns of themselves. Reviewing the zoning ordinance across the US, the 3 key aspects of traditional zoning are use, shape and density.</p>
<p>This program tries to create the block and building patterns based on the traditional zoning trio. It uses each block’s distance to roads in different classes to define the use and density, which in turn affects the shape of buildings. By playing with parameters, the users are allowed to change the rules by which distance influences the three aspects.</p>
<h2 class="anchor" id="roadmap">Roadmap</h2>
<p><img alt="04roadmap" src="/assets/img/00architecture/07citygenerator-6338/04roadmap.jpg"/></p>
<hr/>
<h1 class="anchor" id="part-a-network-generation">Part A: Network Generation</h1>
<h2 class="anchor" id="methodology">Methodology</h2>
<p>Loop over all the blocks and divide those whose area exceeds critical values, until all the blocks cannot be subdivided further.</p>
<p>Generally, being closer to roads of higher class means the block area is smaller, and the road density is higher.</p>
<p><img alt="05partAworkflow" src="/assets/img/00architecture/07citygenerator-6338/05partAworkflow.jpg"/></p>
<h2 class="anchor" id="demo">Demo</h2>
<ul>
<li>Subdivision Control Group 1: Critical Value 1 (Crt1)</li>
</ul>
<p>Larger <strong>Crt1</strong> means blocks are larger after division by <strong>secondary roads</strong>.</p>
<p><img alt="partActr1" src="/assets/img/00architecture/07citygenerator-6338/partActr1.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Critical Value 2 (Crt2)</li>
</ul>
<p>Larger <strong>Crt2</strong> means blocks are larger after division by <strong>minor roads</strong>.</p>
<p><img alt="partActr2" src="/assets/img/00architecture/07citygenerator-6338/partActr2.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Distance 2 (Dist2)</li>
</ul>
<p>Larger <strong>Dist2</strong> means even blocks far from <strong>secondary roads</strong> are divided further, while smaller <strong>Dist2</strong> means only blocks near <strong>secondary roads</strong> are subdivided further.</p>
<p><img alt="partAdist2" src="/assets/img/00architecture/07citygenerator-6338/partAdist2.gif"/></p>
<ul>
<li>Subdivision Control Group 2: Amplitude 2 (AmpC2)</li>
</ul>
<p>Larger <strong>AmpC2</strong> means blocks near <strong>secondary roads</strong> are much smaller than those farther, while smaller <strong>AmpC2</strong> means blocks nearer are similarly large as those farther.</p>
<p><img alt="partAampc2" src="/assets/img/00architecture/07citygenerator-6338/partAampc2.gif"/></p>
<ul>
<li>Random Control Group: Division End Interval (RndPara)</li>
</ul>
<p>Smaller <strong>RndPara</strong> generates more <strong>rigid</strong> overall structure, while larger <strong>RndPara</strong> generates more <strong>organic</strong> overall structure.</p>
<p><img alt="partArndpara" src="/assets/img/00architecture/07citygenerator-6338/partArndpara.gif"/></p>
<hr/>
<h1 class="anchor" id="part-b-street-block-generation">Part B: Street &amp; Block Generation</h1>
<p>After the generation of primary/secondary/minor roads, the second step is to offset roads of each class differently, and generate the block setback with pedestrians.</p>
<p><img alt="06partBoffset" src="/assets/img/00architecture/07citygenerator-6338/06partBoffset.jpg"/></p>
<p><strong>Input:</strong> Primary/Secondary/Minor Roads</p>
<p><strong>Parameters:</strong> Width for Primary/Secondary/Minor Roads, Width for Pedestrians</p>
<p><strong>Output:</strong> Pedestrian Outlines, Building Setback in Blocks</p>
<hr/>
<h1 class="anchor" id="part-c-density-remapping">Part C: Density Remapping</h1>
<p>Based on the overall structure and general urban forms from Part A, this part prepares for building form generation.</p>
<p>For each block, it classifies the distance to different roads into multiple ranges, and add up the weighted distance to represent the relative density among the blocks. Then it remaps the density to a certain interval of FAR which makes sense for building form generation.</p>
<h2 class="anchor" id="demo_1">Demo</h2>
<ul>
<li>Starting Interval for Primary Roads</li>
</ul>
<p>Larger starting interval means <strong>primary roads</strong> raise the density of blocks even far away.</p>
<p><img alt="partCintervalA" src="/assets/img/00architecture/07citygenerator-6338/partCintervalA.gif"/></p>
<ul>
<li>Starting Interval for Secondary Roads</li>
</ul>
<p>Larger starting interval menas <strong>secondary roads</strong> raise the density of blocks even far away.</p>
<p><img alt="partCintervalB" src="/assets/img/00architecture/07citygenerator-6338/partCintervalB.gif"/></p>
<ul>
<li>Weight for Primary Roads</li>
</ul>
<p>Larger weight means <strong>primary roads</strong> raise the density dominantly.</p>
<p><img alt="partCweightA" src="/assets/img/00architecture/07citygenerator-6338/partCweightA.gif"/></p>
<hr/>
<h1 class="anchor" id="part-d-city-form-buildings-generation">Part D: City Form &amp; Buildings Generation</h1>
<h2 class="anchor" id="far">FAR</h2>
<ul>
<li>Floor area ratio</li>
<li>Generated by Part C</li>
<li>Determine the density in 3D in reality</li>
<li>Determine the land use and building shape</li>
<li>0.5 - 2.0: Low-density residential blocks</li>
<li>2.0 - 5.0: Local retail &amp; services blocks</li>
<li>5.0 - 20.0: Commercial blocks</li>
</ul>
<h2 class="anchor" id="bsr">BSR</h2>
<ul>
<li>Building space ratio</li>
<li>Changed by the users</li>
<li>Determine the density of plan in reality</li>
<li>Determine basement area and building height given a certain FAR</li>
</ul>
<h2 class="anchor" id="p-s-ratio">P-S Ratio</h2>
<ul>
<li>Ratio of area of additional towers on the borders closer to primary or secondary roads</li>
<li>Determine which side of commercial blocks has higher towers</li>
</ul>
<h2 class="anchor" id="demo_2">Demo</h2>
<ul>
<li>Change BSR for the 3 building forms</li>
</ul>
<p><img alt="07partDFARBSR" src="/assets/img/00architecture/07citygenerator-6338/07partDFARBSR.jpg"/></p>
<ul>
<li>Change P-S ratio</li>
</ul>
<p><img alt="07partDPS" src="/assets/img/00architecture/07citygenerator-6338/07partDPS.jpg"/></p>
<hr/>
<h1 class="anchor" id="demos-screenshots">Demos &amp; Screenshots</h1>
<ul>
<li>Demos</li>
</ul>
<p><img alt="08demofinal" src="/assets/img/00architecture/07citygenerator-6338/08demofinal.jpg"/></p>
<ul>
<li>Script</li>
</ul>
<p><img alt="09cell" src="/assets/img/00architecture/07citygenerator-6338/09cell.jpg"/></p>
<p>Click <a href="../../assets/img/00architecture/07citygenerator-6338/cell.png" target="_blank">here</a> to view larger screenshot.</p>
<hr/>
        </div>
    </div>

    <section id="footer">
    <div class="footercontainer">
        <p>
            <span>
                <a href="https://www.facebook.com/zmzihanmei" target="_blank">
                    <svg width="24" height="24" class="social facebook" fill="#34090f" viewBox="0 0 1024 1024"
                        version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M767.428571 6.857143l0 150.857143-89.714286 0q-49.142857 0-66.285714 20.571429t-17.142857 61.714286l0 108 167.428571 0-22.285714 169.142857-145.142857 0 0 433.714286-174.857143 0 0-433.714286-145.714286 0 0-169.142857 145.714286 0 0-124.571429q0-106.285714 59.428571-164.857143t158.285714-58.571429q84 0 130.285714 6.857143z" />
                    </svg>
                </a></span>
            <span>
                <a href="https://github.com/saturn-drm" target="_blank">
                    <svg width="24" height="24" class="social github" fill="#34090f" viewBox="0 0 1024 1024"
                        version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path class="svgpath" data-index="path_0"
                            d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
                    </svg>
                </a></span>
            <span>
                <a href="https://www.linkedin.com/in/zihan-mei-616b8b162/" target="_blank">
                    <svg width="24" height="24" class="social linkedin" fill="#34090f" viewBox="0 0 1024 1024"
                        version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M260.096 155.648c0 27.307008-9.899008 50.516992-29.696 69.632-19.796992 19.115008-45.396992 28.672-76.8 28.672-30.036992 0-54.612992-9.556992-73.728-28.672-19.115008-19.115008-28.672-42.324992-28.672-69.632 0-28.672 9.556992-52.224 28.672-70.656 19.115008-18.432 44.372992-27.648 75.776-27.648 31.403008 0 56.32 9.216 74.752 27.648 18.432 18.432 28.331008 41.984 29.696 70.656 0 0 0 0 0 0m-202.752 808.96c0 0 0-632.832 0-632.832 0 0 196.608 0 196.608 0 0 0 0 632.832 0 632.832 0 0-196.608 0-196.608 0 0 0 0 0 0 0m313.344-430.08c0-58.708992-1.364992-126.292992-4.096-202.752 0 0 169.984 0 169.984 0 0 0 10.24 88.064 10.24 88.064 0 0 4.096 0 4.096 0 40.96-68.267008 105.812992-102.4 194.56-102.4 68.267008 0 123.220992 22.868992 164.864 68.608 41.643008 45.739008 62.464 113.664 62.464 203.776 0 0 0 374.784 0 374.784 0 0-196.608 0-196.608 0 0 0 0-350.208 0-350.208 0-91.476992-33.451008-137.216-100.352-137.216-47.787008 0-81.236992 24.576-100.352 73.728-4.096 8.192-6.144 24.576-6.144 49.152 0 0 0 364.544 0 364.544 0 0-198.656 0-198.656 0 0 0 0-430.08 0-430.08 0 0 0 0 0 0" />
                    </svg>
                </a></span>
            <span>
                <a href="mailto:meizihanyx@gmail.com" target="_blank">
                    <svg width="24" height="24" class="social mail" fill="#34090f" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M512.091 166.946c116.242 0 232.484-0.014 348.727 0.007 41.522 0.008 76.321 12.188 94.842 53.167 8.25 18.251 6.5 30.831-13.43 43.256-137.452 85.695-274.125 172.655-410.534 260.014-14.762 9.456-24.638 9.569-39.498 0.041C354.353 435.041 216.033 347.399 77.465 260.14c-12.701-8.002-16.368-15.572-12.01-29.962 9.882-32.627 30.845-52.873 63.868-59.66 13.656-2.806 27.953-3.4 41.966-3.431C284.888 166.83 398.492 166.943 512.091 166.946z" />
                        <path
                            d="M510.888 856.021c-117.998 0-235.996 0.134-353.993-0.067-47.671-0.083-79.295-22.331-91.17-61.206-4.28-14.027-2.127-22.232 10.858-30.356 108.193-67.725 215.807-136.366 324.233-203.713 7.275-4.519 21.51-4.25 29.378-0.171 22.589 11.713 44.026 25.859 64.999 40.383 11.823 8.191 21.091 8.623 33.117 0.325 20.993-14.484 43.689-26.52 64.549-41.176 12.159-8.539 20.73-7.176 32.785 0.537 106.04 67.844 212.318 135.315 319.158 201.894 16.481 10.272 18.065 21.564 12.577 37.407-12.35 35.666-45.183 55.999-92.491 56.081C746.889 856.149 628.886 856.021 510.888 856.021z" />
                        <path
                            d="M64.376 326.925c97.051 61.769 192.332 122.409 290.508 184.898-97.877 62.309-192.719 122.68-290.508 184.932C64.376 572.674 64.376 451.511 64.376 326.925z" />
                        <path
                            d="M959.665 327.168c0 124.369 0 244.164 0 369.253-97.913-62.322-192.914-122.792-290.001-184.589C766.993 449.854 861.628 389.595 959.665 327.168z" />
                    </svg>
                </a></span>
        </p>
        <p>Bachelor of Architecture, Tsinghua University</p>
        <p>Master of Architecture in Urban Design, Harvard Graduate School of Design</p>
        <p>2019 - 2021 &#169; Zihan MEI's Personal Site.</p>
    </div>
</section>

</body>

</html>